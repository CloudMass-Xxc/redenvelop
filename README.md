# 抢红包互动游戏

一个基于Web的多人抢红包互动游戏，模拟真实群聊抢红包体验。

## 功能特点

### 核心功能
- **红包创建**：设置总金额和红包个数
- **公平抢红包**：每个人（包括用户和虚拟角色）只能抢一次
- **真实群聊模拟**：三国历史人物（刘备、关羽、张飞等）自动参与抢红包
- **红包记录**：本地保存用户抢红包历史记录
- **实时统计**：显示总金额、已抢金额、手气最佳等信息

### 交互体验
- **多种红包皮肤**：普通、生日、节日三种风格可选
- **金币动画效果**：抢红包时的金币飞溅动画
- **粒子特效**：Canvas实现的粒子动画效果
- **音效反馈**：开红包和抢红包成功的音效
- **语音播报**：抢红包金额的语音播报功能

### 游戏规则
- 红包创建后，虚拟角色会自动开始抢红包
- 每个参与者（包括用户自己）只能抢一次红包
- 红包个数不能超过参与者总数，确保公平性
- 用户有约1秒的优先抢红包时间窗口
- 抢完红包后自动评选手气最佳

## 技术栈

- **HTML5**：页面结构和语义化标签
- **CSS3**：样式设计和动画效果
- **JavaScript**：游戏逻辑和交互实现
- **Canvas**：粒子动画效果
- **Web Audio API**：音效播放
- **Web Speech API**：语音播报
- **LocalStorage**：本地数据存储

## 项目结构

```
redenvelop/
├── css/
│   └── style.css     # 样式文件
├── js/
│   └── script.js     # JavaScript逻辑文件
├── images/           # 图片资源目录
├── index.html        # 主页面
└── README.md         # 项目说明文档
```

## 安装与使用

### 本地运行
1. 确保你的电脑已安装Node.js环境
2. 将项目文件下载到本地
3. 打开命令行工具，进入项目目录
4. 运行以下命令启动本地服务器：
   ```
   npx http-server -p 8080
   ```
5. 在浏览器中访问 `http://localhost:8080` 开始游戏

### 使用说明
1. **创建红包**：
   - 输入总金额（至少0.01元）
   - 输入红包个数（不超过参与者总数）
   - 点击「创建红包」按钮

2. **抢红包**：
   - 点击红包进行抢红包操作
   - 每个用户只能抢一次
   - 红包被抢完或所有人都抢过后，游戏结束

3. **切换皮肤**：
   - 在「选择红包样式」区域选择喜欢的红包皮肤
   - 可选样式：普通红包、生日红包、节日红包

4. **查看记录**：
   - 左侧面板显示您的抢红包历史记录
   - 记录会自动保存到本地存储

5. **查看统计**：
   - 右侧面板显示当前红包的统计信息
   - 包括总金额、已抢金额、手气最佳等

## 游戏机制说明

### 红包金额分配算法
- 采用随机分配算法，确保每个红包至少0.01元
- 使用正态分布让金额分配更加真实
- 最后一个红包包含剩余的所有金额
- 红包金额顺序会被随机打乱

### 虚拟角色抢红包逻辑
- 红包创建后延迟1秒开始模拟虚拟角色抢红包
- 虚拟角色抢红包间隔为800-1500ms的随机时间
- 系统会确保每个虚拟角色只抢一次红包
- 当所有红包被抢完或所有人都抢过后，显示结果

## 浏览器支持

- Chrome (推荐)
- Firefox
- Safari
- Edge

## 许可证

MIT License

## 注意事项

- 本游戏仅用于娱乐，所有金额均为虚拟数据
- 红包记录保存在浏览器本地存储中，清除浏览器数据会丢失记录
- 语音播报功能可能需要浏览器授权
- 部分音效和动画效果在低性能设备上可能有所简化

## 更新日志

### v1.0.0
- 初始版本发布
- 实现基本的抢红包功能
- 添加多种红包皮肤
- 实现红包记录和统计功能

### v1.1.0
- 添加每个人只能抢一次红包的规则
- 优化红包创建时的验证逻辑
- 增强虚拟角色抢红包的智能性
- 优化用户界面和交互体验
